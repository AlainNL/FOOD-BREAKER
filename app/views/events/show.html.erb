<!-- Button trigger modal -->
<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
  Launch demo modal
</button>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <%# <div class="modal-header">
      </div> %>
      <%# DIV BODY%>
      <div class="position: relative flex: 1 1 auto">
        <%# MODAL BODY - WRITE CODE DOWNHERE %>
        <%# <div class="card-event"> %>
        <div class="w-100 image-modal" style="height: 30vh ">
          <% if @event.photos.attached? %>
            <%= cl_image_tag @event.photos.first.key%>
          <% else %>
            <img src="https://raw.githubusercontent.com/lewagon/fullstack-images/master/uikit/greece.jpg"/>
          <% end %>
          <button class="button-back" type="button" data-bs-dismiss="modal" aria-label="Close" style="position: absolute; top: 24px; left: 20px; padding: 12px;"><i class="fa-solid fa-arrow-left position-relative"></i></button>
        </div>

        <div class="card-show">
          <div class="d-flex justify-content-between">
            <h6><%=@event.title%></h6>
            <h6><%= Event::FLAGS[@event.language.to_sym] %></h6>
          </div>
          <p><%=@event.description%></p>
        </div>

        <div style="width: 100%; height: 150px; margin-top: 60px"
          data-controller="map"
          data-map-markers-value="<%= @markers.to_json %>"
          data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
        </div>

        <div class="mt-4">
          <%= link_to event_bookings_path(@event, booking: {nb_guest: "4", user_id: current_user, event_id: @event.id}),data:{ turbo_method: :post}, class:'btn-primary' do %>
            PARTICIPATE +
          <% end %>
        </div>

        <%# ////////////// MODAL BODY CLOSE //////////// %>

      </div>
      <%# <div class="modal-footer"> %>
        <%# <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary">Save changes</button> %>
      <%# </div> %>
    </div>
  </div>

<div class="review-description">
  <div data-controller="insert-in-list" data-insert-in-list-position-value="beforeend">
    <div data-insert-in-list-target="items">
      <h3><%= @event.title %> <small><%= @event.address %></small></h3>
      <p><%= pluralize @event.reviews.size, "review" %><p>
        <% if @event.reviews.blank? %>
        Be the first to leave a review for <%= @event.title %>
        <% else %>
          <% @event.reviews.each do |review| %>
            <p><%= review.content %></p>
          <% end %>
        <% end %>
    </div>
    <%= render 'reviews/form', event: @event, review: @review %>
  </div>
</div>

<div style="width: 100%; height: 150px; margin-top: 60px"
  data-controller="map"
  data-map-markers-value="<%= @markers.to_json %>"
  data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">


</div>
